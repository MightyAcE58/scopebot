<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ChatBot</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gradient-to-br from-gray-900 via-purple-900 to-black text-white font-sans h-screen flex flex-col">

    <div class="header bg-gradient-to-r from-purple-700 to-indigo-700 p-4 flex justify-between items-center shadow-lg">
<!--         
        <img src="./public/vite-white.svg" class="h-7 w-auto position-inline"/><span id="title" class="text-lg font-bold  ml-0">ScopeBot</span> -->
        <span id="greeting" class="text-lg font-semibold  mr-40px">Hello User!</span>
        <div class="header-buttons flex gap-4">
            <!-- <select
                id="model-select"
                class="model-select-input p-2 bg-white text-black rounded-lg shadow-md focus:ring focus:ring-indigo-400"
            > 

            </select> -->
            <button id="logout" class="text-white font-bold rounded-full hover:shadow-md">Logout</button>
        </div>
    </div>

    <div class="conversation-container flex-1 p-4 flex flex-col gap-4 overflow-hidden">
        <div class="messages-container bg-center bg-[#2f302f] bg-blend-screen inner p-4 rounded-xl flex-1 overflow-auto hide-scrollbar overflow-x-hidden" >
            <div class="message inbound bg-gradient-to-r from-[#] to-[#] text-white p-3 rounded-xl mb-2 max-w-xs">
                <img src="./public/vite-white.svg" class="h-4 w-auto position-inline"/><strong>ScopeBot</strong>
                <p>Hello! How can I assist you today?</p>
            </div>
            <div class="message outbound bg-gradient-to-r from-indigo-500 to-purple-700 text-white p-3 rounded-xl mb-2 ml-auto max-w-xs">
                <strong>You</strong>
                <p>I have a question about deployment.</p>
            </div>
        </div>

        <div class="message-input-container mt-1 flex items-center gap-4 bg-[#2f302f] p-2.5 rounded-xl">
          <textarea
            id="prompt"
            class="prompt-input flex-1 p-3 border border-gray-700 rounded-lg resize-none shadow-md bg-[#2f302f] text-white focus:ring focus:ring-indigo-500"
            placeholder="Type your message..."></textarea>
          <div id="file-selector-container" class="file-selector-container flex items-center gap-2">
              <input
                id="file-input"
                class="file-selector-input hidden"
                type="file"
                multiple
              />
          </div>
          <button id="send-button" class="bg-gradient-to-r from-purple-500 to-indigo-500 text-white font-bold p-4 rounded-full mr-5 shadow-lg hover:opacity-90 transition-transform transform hover:scale-105">Send</button>
        </div>
      </div>

    <script>
        const name = "User";
        const data = [];

        document.getElementById("greeting").innerText = `Hello, ${name}`;

        // Ensure the send button event listener is working
        document.getElementById("send-button").addEventListener("click", function() {
            console.log('Send button clicked');
            sendMessage();
        });

        // Send message function
        function sendMessage() {
            const promptInput = document.getElementById("prompt");
            const messageText = promptInput.value.trim();

            console.log('Message text:', messageText);

            if (messageText) {
                // Add outbound message to UI
                const messagesContainer = document.querySelector(".messages-container");
                const messageElement = document.createElement("div");
                messageElement.className = "message outbound bg-gradient-to-r from-indigo-500 to-purple-700 text-white p-3 rounded-xl mb-2 ml-auto max-w-xs";
                messageElement.innerHTML = `<strong>You</strong><p>${messageText}</p>`;
                messagesContainer.appendChild(messageElement);

                // Clear input
                promptInput.value = "";

                // Scroll to the latest message
                messagesContainer.scrollTop = messagesContainer.scrollHeight;

                console.log("Message sent:", messageText);
            } else {
                console.log("No message to send.");
            }
        }
    </script>

</body>
</html>
